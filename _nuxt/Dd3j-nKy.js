import{_ as Q,f as X,c as m,o as b,a as Y,A as D,B as Z,x as h,D as _,E as x,G as M,r as H,I as ie,s as L,i as oe,Q as re,h as r,J as ee,K as z,L as p,R as se,N as de,l as R,F as U,v as P,t as E,b as J,C as ae,H as ce,S as ge,T as K}from"./DBBV_C1k.js";import{u as le}from"./qLApFlfE.js";const I=_(p.ui.strategy,p.ui.textarea,se),ve=X({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(I.size).includes(e)}},color:{type:String,default:()=>I.default.color,validator(e){return[...p.ui.colors,...Object.keys(I.color)].includes(e)}},variant:{type:String,default:()=>I.default.variant,validator(e){return[...Object.keys(I.variant),...Object.values(I.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:o,attrs:a}=x("textarea",M(e,"ui"),I,M(e,"class")),{emitFormBlur:S,emitFormInput:w,inputId:s,color:u,size:y,name:i}=le(e,I),v=H(ie({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),d=H(null),g=()=>{var l;e.autofocus&&((l=d.value)==null||l.focus())},B=()=>{if(e.autoresize){if(!d.value)return;d.value.rows=e.rows;const l=d.value.style.overflow;d.value.style.overflow="hidden";const c=window.getComputedStyle(d.value),C=Number.parseInt(c.paddingTop),A=Number.parseInt(c.paddingBottom),k=C+A,W=Number.parseInt(c.lineHeight),{scrollHeight:G}=d.value,$=(G-k)/W;$>e.rows&&(d.value.rows=e.maxrows?Math.min($,e.maxrows):$),d.value.style.overflow=l}},j=l=>{v.value.trim&&(l=l.trim()),v.value.number&&(l=de(l)),v.value.nullify&&(l||(l=null)),t("update:modelValue",l),w()},q=l=>{B(),v.value.lazy||j(l.target.value)},F=l=>{const c=l.target.value;t("change",c),v.value.lazy&&j(c),v.value.trim&&(l.target.value=c.trim())},N=l=>{t("blur",l),S()};L(()=>{setTimeout(()=>{g()},e.autofocusDelay)}),oe(()=>e.modelValue,()=>{re(B)}),L(()=>{setTimeout(()=>{g(),B()},100)});const V=r(()=>{var c,C;const l=((C=(c=o.value.color)==null?void 0:c[u.value])==null?void 0:C[e.variant])||o.value.variant[e.variant];return ee(z(o.value.base,o.value.form,o.value.rounded,o.value.placeholder,o.value.size[y.value],e.padded?o.value.padding[y.value]:"p-0",l==null?void 0:l.replaceAll("{color}",u.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:o,attrs:a,name:i,inputId:s,textarea:d,textareaClass:V,onInput:q,onChange:F,onBlur:N}}}),fe=["id","value","name","rows","required","disabled","placeholder"];function me(e,t,o,a,S,w){return b(),m("div",{class:h(e.ui.wrapper)},[Y("textarea",Z({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s)),onBlur:t[1]||(t[1]=(...s)=>e.onBlur&&e.onBlur(...s)),onChange:t[2]||(t[2]=(...s)=>e.onChange&&e.onChange(...s))}),null,16,fe),D(e.$slots,"default")],2)}const Se=Object.assign(Q(ve,[["render",me]]),{__name:"UTextarea"}),f=_(p.ui.strategy,p.ui.select,ge),be=X({components:{UIcon:ae},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>f.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>f.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(f.size).includes(e)}},color:{type:String,default:()=>f.default.color,validator(e){return[...p.ui.colors,...Object.keys(f.color)].includes(e)}},variant:{type:String,default:()=>f.default.variant,validator(e){return[...Object.keys(f.variant),...Object.values(f.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:o}){const{ui:a,attrs:S}=x("select",M(e,"ui"),f,M(e,"class")),{size:w,rounded:s}=ce({ui:a,props:e}),{emitFormChange:u,inputId:y,color:i,size:v,name:d}=le(e,f),g=r(()=>w.value??v.value),B=n=>{t("update:modelValue",n.target.value)},j=n=>{t("change",n.target.value),u()},q=n=>K(n,e.valueAttribute,""),F=n=>K(n,e.optionAttribute,""),N=n=>["string","number","boolean"].includes(typeof n)?{[e.valueAttribute]:n,[e.optionAttribute]:n}:{...n,[e.valueAttribute]:q(n),[e.optionAttribute]:F(n)},V=r(()=>e.options.map(n=>N(n))),l=r(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...V.value]:V.value),c=r(()=>{const n=N(e.modelValue),O=l.value.find(T=>T[e.valueAttribute]===n[e.valueAttribute]);return O?O[e.valueAttribute]:""}),C=r(()=>{var O,T;const n=((T=(O=a.value.color)==null?void 0:O[i.value])==null?void 0:T[e.variant])||a.value.variant[e.variant];return ee(z(a.value.base,a.value.form,s.value,a.value.size[g.value],e.padded?a.value.padding[g.value]:"p-0",n==null?void 0:n.replaceAll("{color}",i.value),(A.value||o.leading)&&a.value.leading.padding[g.value],(k.value||o.trailing)&&a.value.trailing.padding[g.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),A=r(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),k=r(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),W=r(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),G=r(()=>e.loading&&!A.value?e.loadingIcon:e.trailingIcon||e.icon),$=r(()=>z(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[g.value])),te=r(()=>z(a.value.icon.base,i.value&&p.ui.colors.includes(i.value)&&a.value.icon.color.replaceAll("{color}",i.value),a.value.icon.size[g.value],e.loading&&a.value.icon.loading)),ne=r(()=>z(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[g.value])),ue=r(()=>z(a.value.icon.base,i.value&&p.ui.colors.includes(i.value)&&a.value.icon.color.replaceAll("{color}",i.value),a.value.icon.size[g.value],e.loading&&!A.value&&a.value.icon.loading));return{ui:a,attrs:S,name:d,inputId:y,normalizedOptionsWithPlaceholder:l,normalizedValue:c,isLeading:A,isTrailing:k,selectClass:C,leadingIconName:W,leadingIconClass:te,leadingWrapperIconClass:$,trailingIconName:G,trailingIconClass:ue,trailingWrapperIconClass:ne,onInput:B,onChange:j}}}),ye=["id","name","value","required","disabled"],Ie=["value","label"],pe=["value","selected","disabled","textContent"],Ce=["value","selected","disabled","textContent"];function Ae(e,t,o,a,S,w){const s=ae;return b(),m("div",{class:h(e.ui.wrapper)},[Y("select",Z({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...u)=>e.onInput&&e.onInput(...u)),onChange:t[1]||(t[1]=(...u)=>e.onChange&&e.onChange(...u))}),[(b(!0),m(U,null,P(e.normalizedOptionsWithPlaceholder,(u,y)=>(b(),m(U,null,[u.children?(b(),m("optgroup",{key:`${u[e.valueAttribute]}-optgroup-${y}`,value:u[e.valueAttribute],label:u[e.optionAttribute]},[(b(!0),m(U,null,P(u.children,(i,v)=>(b(),m("option",{key:`${i[e.valueAttribute]}-${y}-${v}`,value:i[e.valueAttribute],selected:i[e.valueAttribute]===e.normalizedValue,disabled:i.disabled,textContent:E(i[e.optionAttribute])},null,8,pe))),128))],8,Ie)):(b(),m("option",{key:`${u[e.valueAttribute]}-${y}`,value:u[e.valueAttribute],selected:u[e.valueAttribute]===e.normalizedValue,disabled:u.disabled,textContent:E(u[e.optionAttribute])},null,8,Ce))],64))),256))],16,ye),e.isLeading&&e.leadingIconName||e.$slots.leading?(b(),m("span",{key:0,class:h(e.leadingWrapperIconClass)},[D(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[J(s,{name:e.leadingIconName,class:h(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):R("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(b(),m("span",{key:1,class:h(e.trailingWrapperIconClass)},[D(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[J(s,{name:e.trailingIconName,class:h(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):R("",!0)],2)}const we=Object.assign(Q(be,[["render",Ae],["__scopeId","data-v-cbc9516f"]]),{__name:"USelect"});export{Se as _,we as a};
