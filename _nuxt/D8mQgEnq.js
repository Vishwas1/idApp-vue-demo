var Fn=Object.defineProperty;var Gn=(n,e,t)=>e in n?Fn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var N=(n,e,t)=>Gn(n,typeof e!="symbol"?e+"":e,t);import{_ as Un,f as Yn,c as J,o as K,a as Ln,A as P,l as un,B as Mn,x as X,b as dn,C as In,D as kn,E as $n,G as gn,H as Hn,h as v,r as yn,I as Dn,s as Wn,J as Jn,K as j,L as q,M as Kn,N as Pn}from"./DBBV_C1k.js";import{u as Qn}from"./qLApFlfE.js";import{j as _n,k as An,m as ne,n as ee,o as te}from"./C0c8pc9Q.js";const A=kn(q.ui.strategy,q.ui.input,Kn),se=Yn({components:{UIcon:In},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>A.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(n){return Object.keys(A.size).includes(n)}},color:{type:String,default:()=>A.default.color,validator(n){return[...q.ui.colors,...Object.keys(A.color)].includes(n)}},variant:{type:String,default:()=>A.default.variant,validator(n){return[...Object.keys(A.variant),...Object.values(A.color).flatMap(e=>Object.keys(e))].includes(n)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(n,{emit:e,slots:t}){const{ui:s,attrs:i}=$n("input",gn(n,"ui"),A,gn(n,"class")),{size:a,rounded:r}=Hn({ui:s,props:n}),{emitFormBlur:l,emitFormInput:c,size:u,color:f,inputId:y,name:m}=Qn(n,A),g=v(()=>a.value??u.value),p=yn(Dn({},n.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),I=yn(null),S=()=>{var d;n.autofocus&&((d=I.value)==null||d.focus())},E=d=>{p.value.trim&&(d=d.trim()),(p.value.number||n.type==="number")&&(d=Pn(d)),p.value.nullify&&(d||(d=null)),e("update:modelValue",d),c()},G=d=>{p.value.lazy||E(d.target.value)},U=d=>{if(n.type==="file"){const z=d.target.files;e("change",z)}else{const z=d.target.value;e("change",z),p.value.lazy&&E(z),p.value.trim&&(d.target.value=z.trim())}},D=d=>{l(),e("blur",d)};Wn(()=>{setTimeout(()=>{S()},n.autofocusDelay)});const W=v(()=>{var z,fn;const d=((fn=(z=s.value.color)==null?void 0:z[f.value])==null?void 0:fn[n.variant])||s.value.variant[n.variant];return Jn(j(s.value.base,s.value.form,r.value,s.value.placeholder,n.type==="file"&&s.value.file.base,s.value.size[g.value],n.padded?s.value.padding[g.value]:"p-0",d==null?void 0:d.replaceAll("{color}",f.value),(Z.value||t.leading)&&s.value.leading.padding[g.value],(Y.value||t.trailing)&&s.value.trailing.padding[g.value]),n.inputClass)}),Z=v(()=>n.icon&&n.leading||n.icon&&!n.trailing||n.loading&&!n.trailing||n.leadingIcon),Y=v(()=>n.icon&&n.trailing||n.loading&&n.trailing||n.trailingIcon),Rn=v(()=>n.loading?n.loadingIcon:n.leadingIcon||n.icon),Zn=v(()=>n.loading&&!Z.value?n.loadingIcon:n.trailingIcon||n.icon),Vn=v(()=>j(s.value.icon.leading.wrapper,s.value.icon.leading.pointer,s.value.icon.leading.padding[g.value])),Xn=v(()=>j(s.value.icon.base,f.value&&q.ui.colors.includes(f.value)&&s.value.icon.color.replaceAll("{color}",f.value),s.value.icon.size[g.value],n.loading&&s.value.icon.loading)),jn=v(()=>j(s.value.icon.trailing.wrapper,s.value.icon.trailing.pointer,s.value.icon.trailing.padding[g.value])),qn=v(()=>j(s.value.icon.base,f.value&&q.ui.colors.includes(f.value)&&s.value.icon.color.replaceAll("{color}",f.value),s.value.icon.size[g.value],n.loading&&!Z.value&&s.value.icon.loading));return{ui:s,attrs:i,name:m,inputId:y,input:I,isLeading:Z,isTrailing:Y,inputClass:W,leadingIconName:Rn,leadingIconClass:Xn,leadingWrapperIconClass:Vn,trailingIconName:Zn,trailingIconClass:qn,trailingWrapperIconClass:jn,onInput:G,onChange:U,onBlur:D}}}),oe=["id","name","type","required","placeholder","disabled"];function ae(n,e,t,s,i,a){const r=In;return K(),J("div",{class:X(n.type==="hidden"?"hidden":n.ui.wrapper)},[Ln("input",Mn({id:n.inputId,ref:"input",name:n.name,type:n.type,required:n.required,placeholder:n.placeholder,disabled:n.disabled,class:n.inputClass},n.type==="file"?n.attrs:{...n.attrs,value:n.modelValue},{onInput:e[0]||(e[0]=(...l)=>n.onInput&&n.onInput(...l)),onBlur:e[1]||(e[1]=(...l)=>n.onBlur&&n.onBlur(...l)),onChange:e[2]||(e[2]=(...l)=>n.onChange&&n.onChange(...l))}),null,16,oe),P(n.$slots,"default"),n.isLeading&&n.leadingIconName||n.$slots.leading?(K(),J("span",{key:0,class:X(n.leadingWrapperIconClass)},[P(n.$slots,"leading",{disabled:n.disabled,loading:n.loading},()=>[dn(r,{name:n.leadingIconName,class:X(n.leadingIconClass)},null,8,["name","class"])])],2)):un("",!0),n.isTrailing&&n.trailingIconName||n.$slots.trailing?(K(),J("span",{key:1,class:X(n.trailingWrapperIconClass)},[P(n.$slots,"trailing",{disabled:n.disabled,loading:n.loading},()=>[dn(r,{name:n.trailingIconName,class:X(n.trailingIconClass)},null,8,["name","class"])])],2)):un("",!0)],2)}const Ee=Object.assign(Un(se,[["render",ae]]),{__name:"UInput"});/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const ie={p:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,n:0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3edn,a:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffecn,d:0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n,Gx:0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy:0x6666666666666666666666666666666666666666666666666666666666666658n},{p:b,n:L,Gx:mn,Gy:pn,a:Q,d:_}=ie,re=8n,F=32,sn=64,h=(n="")=>{throw new Error(n)},le=n=>typeof n=="bigint",Cn=n=>typeof n=="string",ce=n=>n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array",T=(n,e)=>!ce(n)||typeof e=="number"&&e>0&&n.length!==e?h("Uint8Array expected"):n,H=n=>new Uint8Array(n),on=n=>Uint8Array.from(n),Sn=(n,e)=>n.toString(16).padStart(e,"0"),an=n=>Array.from(T(n)).map(e=>Sn(e,2)).join(""),C={_0:48,_9:57,A:65,F:70,a:97,f:102},bn=n=>{if(n>=C._0&&n<=C._9)return n-C._0;if(n>=C.A&&n<=C.F)return n-(C.A-10);if(n>=C.a&&n<=C.f)return n-(C.a-10)},rn=n=>{const e="hex invalid";if(!Cn(n))return h(e);const t=n.length,s=t/2;if(t%2)return h(e);const i=H(s);for(let a=0,r=0;a<s;a++,r+=2){const l=bn(n.charCodeAt(r)),c=bn(n.charCodeAt(r+1));if(l===void 0||c===void 0)return h(e);i[a]=l*16+c}return i},ln=(n,e)=>T(Cn(n)?rn(n):on(T(n)),e),zn=()=>globalThis==null?void 0:globalThis.crypto,fe=()=>{var n;return((n=zn())==null?void 0:n.subtle)??h("crypto.subtle must be defined")},M=(...n)=>{const e=H(n.reduce((s,i)=>s+T(i).length,0));let t=0;return n.forEach(s=>{e.set(s,t),t+=s.length}),e},ue=(n=F)=>zn().getRandomValues(H(n)),k=BigInt,x=(n,e,t,s="bad number: out of range")=>le(n)&&e<=n&&n<t?n:h(s),o=(n,e=b)=>{const t=n%e;return t>=0n?t:e+t},En=n=>o(n,L),Nn=(n,e)=>{(n===0n||e<=0n)&&h("no inverse n="+n+" mod="+e);let t=o(n,e),s=e,i=0n,a=1n;for(;t!==0n;){const r=s/t,l=s%t,c=i-a*r;s=t,t=l,i=a,a=c}return s===1n?o(i,e):h("no inverse")},hn=n=>n instanceof O?n:h("Point expected"),nn=2n**256n,w=class w{constructor(e,t,s,i){N(this,"ex");N(this,"ey");N(this,"ez");N(this,"et");const a=nn;this.ex=x(e,0n,a),this.ey=x(t,0n,a),this.ez=x(s,1n,a),this.et=x(i,0n,a),Object.freeze(this)}static fromAffine(e){return new w(e.x,e.y,1n,o(e.x*e.y))}static fromBytes(e,t=!1){const s=_,i=on(T(e,F)),a=e[31];i[31]=a&-129;const r=Tn(i);x(r,0n,t?nn:b);const c=o(r*r),u=o(c-1n),f=o(s*c+1n);let{isValid:y,value:m}=ge(u,f);y||h("bad point: y not sqrt");const g=(m&1n)===1n,p=(a&128)!==0;return!t&&m===0n&&p&&h("bad point: x==0, isLastByteOdd"),p!==g&&(m=o(-m)),new w(m,r,1n,o(m*r))}assertValidity(){const e=Q,t=_,s=this;if(s.is0())throw new Error("bad point: ZERO");const{ex:i,ey:a,ez:r,et:l}=s,c=o(i*i),u=o(a*a),f=o(r*r),y=o(f*f),m=o(c*e),g=o(f*o(m+u)),p=o(y+o(t*o(c*u)));if(g!==p)throw new Error("bad point: equation left != right (1)");const I=o(i*a),S=o(r*l);if(I!==S)throw new Error("bad point: equation left != right (2)");return this}equals(e){const{ex:t,ey:s,ez:i}=this,{ex:a,ey:r,ez:l}=hn(e),c=o(t*l),u=o(a*i),f=o(s*l),y=o(r*i);return c===u&&f===y}is0(){return this.equals(V)}negate(){return new w(o(-this.ex),this.ey,this.ez,o(-this.et))}double(){const{ex:e,ey:t,ez:s}=this,i=Q,a=o(e*e),r=o(t*t),l=o(2n*o(s*s)),c=o(i*a),u=e+t,f=o(o(u*u)-a-r),y=c+r,m=y-l,g=c-r,p=o(f*m),I=o(y*g),S=o(f*g),E=o(m*y);return new w(p,I,E,S)}add(e){const{ex:t,ey:s,ez:i,et:a}=this,{ex:r,ey:l,ez:c,et:u}=hn(e),f=Q,y=_,m=o(t*r),g=o(s*l),p=o(a*y*u),I=o(i*c),S=o((t+s)*(r+l)-m-g),E=o(I-p),G=o(I+p),U=o(g-f*m),D=o(S*E),W=o(G*U),Z=o(S*U),Y=o(E*G);return new w(D,W,Y,Z)}multiply(e,t=!0){if(!t&&(e===0n||this.is0()))return V;if(x(e,1n,L),e===1n)return this;if(this.equals(R))return Ie(e).p;let s=V,i=R;for(let a=this;e>0n;a=a.double(),e>>=1n)e&1n?s=s.add(a):t&&(i=i.add(a));return s}toAffine(){const{ex:e,ey:t,ez:s}=this;if(this.equals(V))return{x:0n,y:1n};const i=Nn(s,b);return o(s*i)!==1n&&h("invalid inverse"),{x:o(e*i),y:o(t*i)}}toBytes(){const{x:e,y:t}=this.assertValidity().toAffine(),s=xn(t);return s[31]|=e&1n?128:0,s}toHex(){return an(this.toBytes())}clearCofactor(){return this.multiply(k(re),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.multiply(L/2n,!1).double();return L%2n&&(e=e.add(this)),e.is0()}static fromHex(e,t){return w.fromBytes(ln(e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}toRawBytes(){return this.toBytes()}};N(w,"BASE"),N(w,"ZERO");let O=w;const R=new O(mn,pn,1n,o(mn*pn)),V=new O(0n,1n,1n,0n);O.BASE=R;O.ZERO=V;const xn=n=>rn(Sn(x(n,0n,nn),sn)).reverse(),Tn=n=>k("0x"+an(on(T(n)).reverse())),B=(n,e)=>{let t=n;for(;e-- >0n;)t*=t,t%=b;return t},de=n=>{const t=n*n%b*n%b,s=B(t,2n)*t%b,i=B(s,1n)*n%b,a=B(i,5n)*i%b,r=B(a,10n)*a%b,l=B(r,20n)*r%b,c=B(l,40n)*l%b,u=B(c,80n)*c%b,f=B(u,80n)*c%b,y=B(f,10n)*a%b;return{pow_p_5_8:B(y,2n)*n%b,b2:t}},vn=0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n,ge=(n,e)=>{const t=o(e*e*e),s=o(t*t*e),i=de(n*s).pow_p_5_8;let a=o(n*t*i);const r=o(e*a*a),l=a,c=o(a*vn),u=r===n,f=r===o(-n),y=r===o(-n*vn);return u&&(a=l),(f||y)&&(a=c),(o(a)&1n)===1n&&(a=o(-a)),{isValid:u||f,value:a}},en=n=>En(Tn(n)),cn=(...n)=>ve.sha512Async(...n),ye=n=>{const e=n.slice(0,F);e[0]&=248,e[31]&=127,e[31]|=64;const t=n.slice(F,sn),s=en(e),i=R.multiply(s),a=i.toBytes();return{head:e,prefix:t,scalar:s,point:i,pointBytes:a}},me=n=>cn(ln(n,F)).then(ye),pe=n=>cn(n.hashable).then(n.finish),be=(n,e,t)=>{const{pointBytes:s,scalar:i}=n,a=en(e),r=R.multiply(a).toBytes();return{hashable:M(r,s,t),finish:u=>{const f=En(a+en(u)*i);return T(M(r,xn(f)),sn)}}},he=async(n,e)=>{const t=ln(n),s=await me(e),i=await cn(s.prefix,t);return pe(be(s,i,t))},ve={sha512Async:async(...n)=>{const e=fe(),t=M(...n);return H(await e.digest("SHA-512",t.buffer))},sha512Sync:void 0,bytesToHex:an,hexToBytes:rn,concatBytes:M,mod:o,invert:Nn,randomBytes:ue},$=8,Be=256,On=Math.ceil(Be/$)+1,tn=2**($-1),we=()=>{const n=[];let e=R,t=e;for(let s=0;s<On;s++){t=e,n.push(t);for(let i=1;i<tn;i++)t=t.add(e),n.push(t);e=t.double()}return n};let Bn;const wn=(n,e)=>{const t=e.negate();return n?t:e},Ie=n=>{const e=Bn||(Bn=we());let t=V,s=R;const i=2**$,a=i,r=k(i-1),l=k($);for(let c=0;c<On;c++){let u=Number(n&r);n>>=l,u>tn&&(u-=a,n+=1n);const f=c*tn,y=f,m=f+Math.abs(u)-1,g=c%2!==0,p=u<0;u===0?s=s.add(wn(g,e[y])):t=t.add(wn(p,e[m]))}return{p:t,f:s}};function Ne(n){const e=ee([An.Buffer.from(n,"hex")]);return te(e)}function xe(n,e){const{sigRetrievelRandomness:t,...s}=n,i={...s,blindingRandomness:n.sigRetrievelRandomness},a=ne.createUnsignedCredentialV1(JSON.stringify(i));let r;try{r=JSON.parse(a)}catch{throw new Error(a)}return{expiry:e,...r}}async function Te(n,e){const t=_n(n);return An.Buffer.from(await he(t,e)).toString("hex")}export{Ee as _,xe as c,Ne as g,Te as s};
